databaseChangeLog:
  - changeSet:
      id: assign-categories-to-books
      author: Mykola Skrypalov
      changes:
        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'To Kill a Mockingbird')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Classic Literature')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = '1984')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Dystopian Fiction')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'The Great Gatsby')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Classic Literature')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'Pride and Prejudice')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Romance')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'The Catcher in the Rye')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Classic Literature')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'Animal Farm')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Satire')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'Lord of the Flies')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Classic Literature')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'The Hobbit')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Fantasy')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'Harry Potter and the Philosopher''s Stone')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Fantasy')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'Moby-Dick')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Adventure')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'The Lord of the Rings')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Fantasy')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'Brave New World')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Dystopian Fiction')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'The Odyssey')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Epic Poetry')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'Frankenstein')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Gothic Fiction')"

        - insert:
            tableName: books_categories
            columns:
              - column:
                  name: book_id
                  valueComputed: "(SELECT id FROM books WHERE title = 'The Picture of Dorian Gray')"
              - column:
                  name: category_id
                  valueComputed: "(SELECT id FROM categories WHERE name = 'Philosophical Fiction')"
